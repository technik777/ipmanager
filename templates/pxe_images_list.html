{% extends "base.html" %}

{% block title %}PXE Images{% endblock title %}

{% block content %}
  <h1>PXE Images</h1>

  <p>
    <a href="/pxe/images/new">Neu</a>
  </p>

  <form method="get" action="/pxe/images" style="margin-bottom:12px;">
    <input type="text" name="q" value="{{ search_query | default(value='') }}" placeholder="Suche nach Name/Typ/Architektur" />
    <button type="submit">Suchen</button>
    {% if search_query and search_query | length > 0 %}
      <a href="/pxe/images" style="margin-left:8px;">Zurücksetzen</a>
    {% endif %}
  </form>

  <table border="1" cellpadding="6" cellspacing="0">
    <thead>
      <tr>
        <th>Name</th>
        <th>Typ</th>
        <th>Arch</th>
        <th>Enabled</th>
        <th>Aktionen</th>
      </tr>
    </thead>
    <tbody>
      {% for img in images %}
        <tr>
          <td>{{ img.name }}</td>
          <td>{{ img.kind }}</td>
          <td>{{ img.arch }}</td>
          <td>{{ img.enabled }}</td>
          <td>
            <a href="/pxe/images/{{ img.id }}/edit">Bearbeiten</a>
            <form method="post" action="/pxe/images/{{ img.id }}/delete" style="display:inline;" onsubmit="return confirm('Löschen?');">
              <button type="submit">Löschen</button>
            </form>
          </td>
        </tr>
      {% else %}
        <tr>
          <td colspan="5">Keine PXE Images vorhanden.</td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
{% endblock content %}
